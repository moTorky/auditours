!function (t) { t.fn.bPopup = function (n, o) { function e() { h.modal && t('<div class="b-modal ' + w + '"></div>').css({ backgroundColor: h.modalColor, position: "fixed", top: 0, right: 0, bottom: 0, left: 0, opacity: 0, zIndex: h.zIndex + S }).appendTo(h.appendTo).fadeTo(h.speed, h.opacity), p(), v.data("bPopup", h).data("id", w).css({ left: "slideIn" == h.transition || "slideBack" == h.transition ? "slideBack" == h.transition ? T.scrollLeft() + B : -1 * (M + O) : r(!(!h.follow[0] && C || g)), position: h.positionStyle || "absolute", top: "slideDown" == h.transition || "slideUp" == h.transition ? "slideUp" == h.transition ? T.scrollTop() + Q : I + -1 * y : c(!(!h.follow[1] && m || g)), "z-index": h.zIndex + S + 1 }).each(function () { h.appending && t(this).appendTo(h.appendTo) }), u(!0) } function a() { return h.modal && t(".b-modal." + v.data("id")).fadeTo(h.speed, 0, function () { t(this).remove() }), h.scrollBar || t("html").css("overflow", "auto"), t(".b-modal." + w).unbind("click"), T.unbind("keydown." + w), x.unbind("." + w).data("bPopup", 0 < x.data("bPopup") - 1 ? x.data("bPopup") - 1 : null), v.undelegate(".bClose, ." + h.closeClass, "click." + w, a).data("bPopup", null), clearTimeout(k), u(), !1 } function i(n) { Q = x.height(), B = x.width(), ((b = f()).x || b.y) && (clearTimeout(P), P = setTimeout(function () { p(), n = n || h.followSpeed; var o = {}; b.x && (o.left = h.follow[0] ? r(!0) : "auto"), b.y && (o.top = h.follow[1] ? c(!0) : "auto"), v.dequeue().each(function () { g ? t(this).css({ left: M, top: I }) : t(this).animate(o, n, h.followEasing) }) }, 50)) } function s(t) { var n = t.width(), o = t.height(), e = {}; h.contentContainer.css({ height: o, width: n }), o >= v.height() && (e.height = v.height()), n >= v.width() && (e.width = v.width()), y = v.outerHeight(!0), O = v.outerWidth(!0), p(), h.contentContainer.css({ height: "auto", width: "auto" }), e.left = r(!(!h.follow[0] && C || g)), e.top = c(!(!h.follow[1] && m || g)), v.animate(e, 250, function () { t.show(), b = f() }) } function u(t) { function n(n) { v.css({ display: "block", opacity: 1 }).animate(n, h.speed, h.easing, function () { l(t) }) } switch (t ? h.transition : h.transitionClose || h.transition) { case "slideIn": n({ left: t ? r(!(!h.follow[0] && C || g)) : T.scrollLeft() - (O || v.outerWidth(!0)) - 200 }); break; case "slideBack": n({ left: t ? r(!(!h.follow[0] && C || g)) : T.scrollLeft() + B + 200 }); break; case "slideDown": n({ top: t ? c(!(!h.follow[1] && m || g)) : T.scrollTop() - (y || v.outerHeight(!0)) - 200 }); break; case "slideUp": n({ top: t ? c(!(!h.follow[1] && m || g)) : T.scrollTop() + Q + 200 }); break; default: v.stop().fadeTo(h.speed, t ? 1 : 0, function () { l(t) }) } } function l(n) { n ? (x.data("bPopup", S), v.delegate(".bClose, ." + h.closeClass, "click." + w, a), h.modalClose && t(".b-modal." + w).css("cursor", "pointer").bind("click", a), j || !h.follow[0] && !h.follow[1] || x.bind("scroll." + w, function () { if (b.x || b.y) { var t = {}; b.x && (t.left = h.follow[0] ? r(!g) : "auto"), b.y && (t.top = h.follow[1] ? c(!g) : "auto"), v.dequeue().animate(t, h.followSpeed, h.followEasing) } }).bind("resize." + w, function () { i() }), h.escClose && T.bind("keydown." + w, function (t) { 27 == t.which && a() }), d(o), h.autoClose && (k = setTimeout(a, h.autoClose))) : (v.hide(), d(h.onClose), h.loadUrl && (h.contentContainer.empty(), v.css({ height: "auto", width: "auto" }))) } function r(t) { return t ? M + T.scrollLeft() : M } function c(t) { return t ? I + T.scrollTop() : I } function d(n, o) { t.isFunction(n) && n.call(v, o) } function p() { I = m ? h.position[1] : Math.max(0, (Q - v.outerHeight(!0)) / 2 - h.amsl), M = C ? h.position[0] : (B - v.outerWidth(!0)) / 2, b = f() } function f() { return { x: B > v.outerWidth(!0), y: Q > v.outerHeight(!0) } } t.isFunction(n) && (o = n, n = null); var h = t.extend({}, t.fn.bPopup.defaults, n); h.scrollBar || t("html").css("overflow", "hidden"); var w, b, m, C, g, I, M, y, O, P, k, v = this, T = t(document), x = t(window), Q = x.height(), B = x.width(), j = /OS 6(_\d)+/i.test(navigator.userAgent), S = 0; return v.close = function () { a() }, v.reposition = function (t) { i(t) }, v.each(function () { t(this).data("bPopup") || (d(h.onOpen), S = (x.data("bPopup") || 0) + 1, w = "__b-popup" + S + "__", m = "auto" !== h.position[1], C = "auto" !== h.position[0], g = "fixed" === h.positionStyle, y = v.outerHeight(!0), O = v.outerWidth(!0), h.loadUrl ? function () { switch (h.contentContainer = t(h.contentContainer || v), h.content) { case "iframe": var n = t('<iframe class="b-iframe" ' + h.iframeAttr + "></iframe>"); n.appendTo(h.contentContainer), y = v.outerHeight(!0), O = v.outerWidth(!0), e(), n.attr("src", h.loadUrl), d(h.loadCallback); break; case "image": e(), t("<img />").load(function () { d(h.loadCallback), s(t(this)) }).attr("src", h.loadUrl).hide().appendTo(h.contentContainer); break; default: e(), t('<div class="b-ajax-wrapper"></div>').load(h.loadUrl, h.loadData, function (n, o, e) { d(h.loadCallback, o), s(t(this)) }).hide().appendTo(h.contentContainer) } }() : e()) }) }, t.fn.bPopup.defaults = { amsl: 50, appending: !0, appendTo: "body", autoClose: !1, closeClass: "b-close", content: "ajax", contentContainer: !1, easing: "swing", escClose: !0, follow: [!0, !0], followEasing: "swing", followSpeed: 500, iframeAttr: 'scrolling="no" frameborder="0"', loadCallback: !1, loadData: !1, loadUrl: !1, modal: !0, modalClose: !0, modalColor: "#000", onClose: !1, onOpen: !1, opacity: .7, position: ["auto", "auto"], positionStyle: "absolute", scrollBar: !0, speed: 250, transition: "fadeIn", transitionClose: !1, zIndex: 9997 } }(jQuery), jQuery.easing.jswing = jQuery.easing.swing, jQuery.extend(jQuery.easing, { def: "easeOutQuad", swing: function (t, n, o, e, a) { return jQuery.easing[jQuery.easing.def](t, n, o, e, a) }, easeInQuad: function (t, n, o, e, a) { return e * (n /= a) * n + o }, easeOutQuad: function (t, n, o, e, a) { return -e * (n /= a) * (n - 2) + o }, easeInOutQuad: function (t, n, o, e, a) { return (n /= a / 2) < 1 ? e / 2 * n * n + o : -e / 2 * (--n * (n - 2) - 1) + o }, easeInCubic: function (t, n, o, e, a) { return e * (n /= a) * n * n + o }, easeOutCubic: function (t, n, o, e, a) { return e * ((n = n / a - 1) * n * n + 1) + o }, easeInOutCubic: function (t, n, o, e, a) { return (n /= a / 2) < 1 ? e / 2 * n * n * n + o : e / 2 * ((n -= 2) * n * n + 2) + o }, easeInQuart: function (t, n, o, e, a) { return e * (n /= a) * n * n * n + o }, easeOutQuart: function (t, n, o, e, a) { return -e * ((n = n / a - 1) * n * n * n - 1) + o }, easeInOutQuart: function (t, n, o, e, a) { return (n /= a / 2) < 1 ? e / 2 * n * n * n * n + o : -e / 2 * ((n -= 2) * n * n * n - 2) + o }, easeInQuint: function (t, n, o, e, a) { return e * (n /= a) * n * n * n * n + o }, easeOutQuint: function (t, n, o, e, a) { return e * ((n = n / a - 1) * n * n * n * n + 1) + o }, easeInOutQuint: function (t, n, o, e, a) { return (n /= a / 2) < 1 ? e / 2 * n * n * n * n * n + o : e / 2 * ((n -= 2) * n * n * n * n + 2) + o }, easeInSine: function (t, n, o, e, a) { return -e * Math.cos(n / a * (Math.PI / 2)) + e + o }, easeOutSine: function (t, n, o, e, a) { return e * Math.sin(n / a * (Math.PI / 2)) + o }, easeInOutSine: function (t, n, o, e, a) { return -e / 2 * (Math.cos(Math.PI * n / a) - 1) + o }, easeInExpo: function (t, n, o, e, a) { return 0 == n ? o : e * Math.pow(2, 10 * (n / a - 1)) + o }, easeOutExpo: function (t, n, o, e, a) { return n == a ? o + e : e * (1 - Math.pow(2, -10 * n / a)) + o }, easeInOutExpo: function (t, n, o, e, a) { return 0 == n ? o : n == a ? o + e : (n /= a / 2) < 1 ? e / 2 * Math.pow(2, 10 * (n - 1)) + o : e / 2 * (2 - Math.pow(2, -10 * --n)) + o }, easeInCirc: function (t, n, o, e, a) { return -e * (Math.sqrt(1 - (n /= a) * n) - 1) + o }, easeOutCirc: function (t, n, o, e, a) { return e * Math.sqrt(1 - (n = n / a - 1) * n) + o }, easeInOutCirc: function (t, n, o, e, a) { return (n /= a / 2) < 1 ? -e / 2 * (Math.sqrt(1 - n * n) - 1) + o : e / 2 * (Math.sqrt(1 - (n -= 2) * n) + 1) + o }, easeInElastic: function (t, n, o, e, a) { var i = 1.70158, s = 0, u = e; if (0 == n) return o; if (1 == (n /= a)) return o + e; if (s || (s = .3 * a), u < Math.abs(e)) { u = e; i = s / 4 } else i = s / (2 * Math.PI) * Math.asin(e / u); return -u * Math.pow(2, 10 * (n -= 1)) * Math.sin((n * a - i) * (2 * Math.PI) / s) + o }, easeOutElastic: function (t, n, o, e, a) { var i = 1.70158, s = 0, u = e; if (0 == n) return o; if (1 == (n /= a)) return o + e; if (s || (s = .3 * a), u < Math.abs(e)) { u = e; i = s / 4 } else i = s / (2 * Math.PI) * Math.asin(e / u); return u * Math.pow(2, -10 * n) * Math.sin((n * a - i) * (2 * Math.PI) / s) + e + o }, easeInOutElastic: function (t, n, o, e, a) { var i = 1.70158, s = 0, u = e; if (0 == n) return o; if (2 == (n /= a / 2)) return o + e; if (s || (s = a * (.3 * 1.5)), u < Math.abs(e)) { u = e; i = s / 4 } else i = s / (2 * Math.PI) * Math.asin(e / u); return n < 1 ? u * Math.pow(2, 10 * (n -= 1)) * Math.sin((n * a - i) * (2 * Math.PI) / s) * -.5 + o : u * Math.pow(2, -10 * (n -= 1)) * Math.sin((n * a - i) * (2 * Math.PI) / s) * .5 + e + o }, easeInBack: function (t, n, o, e, a, i) { return null == i && (i = 1.70158), e * (n /= a) * n * ((i + 1) * n - i) + o }, easeOutBack: function (t, n, o, e, a, i) { return null == i && (i = 1.70158), e * ((n = n / a - 1) * n * ((i + 1) * n + i) + 1) + o }, easeInOutBack: function (t, n, o, e, a, i) { return null == i && (i = 1.70158), (n /= a / 2) < 1 ? e / 2 * (n * n * ((1 + (i *= 1.525)) * n - i)) + o : e / 2 * ((n -= 2) * n * ((1 + (i *= 1.525)) * n + i) + 2) + o }, easeInBounce: function (t, n, o, e, a) { return e - jQuery.easing.easeOutBounce(t, a - n, 0, e, a) + o }, easeOutBounce: function (t, n, o, e, a) { return (n /= a) < 1 / 2.75 ? e * (7.5625 * n * n) + o : n < 2 / 2.75 ? e * (7.5625 * (n -= 1.5 / 2.75) * n + .75) + o : n < 2.5 / 2.75 ? e * (7.5625 * (n -= 2.25 / 2.75) * n + .9375) + o : e * (7.5625 * (n -= 2.625 / 2.75) * n + .984375) + o }, easeInOutBounce: function (t, n, o, e, a) { return n < a / 2 ? .5 * jQuery.easing.easeInBounce(t, 2 * n, 0, e, a) + o : .5 * jQuery.easing.easeOutBounce(t, 2 * n - a, 0, e, a) + .5 * e + o } }), function (t) { var n = t("#popup"), o = t("#popup2"), e = 0; t(function () { t(".smalls.special").on("open.bpopup", function () { alert("I'm special") }), t("body").on("click", ".smalls", function () { var i = t(this).hasClass("pop1") ? n : o, s = t(".content"), u = t(this); if (t(this).hasClass("events")) i.bPopup({ onOpen: function () { alert("onOpen fired") }, onClose: function () { alert("onClose fired") } }, function () { alert("Callback fired") }); else if (t(this).hasClass("random")) { var l = a(0, t(window).width() - 500), r = a(t(document).scrollTop(), t(document).scrollTop() + t(window).height() - 300), c = 3 == a(0, 4), d = a(0, 2), p = "fadeIn", f = 350; 1 === d ? (p = "slideDown", f = 600) : 2 === d && (p = "slideIn", f = 500), i.bPopup({ follow: c ? [!0, !0] : [!1, !1], position: c ? ["auto", "auto"] : [l, r], opacity: "0." + a(1, 9), positionStyle: 25 == a(0, 50) ? "fixed" : "absolute", modal: 0 != a(0, 10), modalClose: 0 != a(0, 5), modalColor: "hsl(" + a(0, 360) + ",100%, 50%)", transition: p, speed: f }) } else t(this).hasClass("x-content") ? i.bPopup({ onOpen: function () { s.html(u.data("bpopup") || {}) }, onClose: function () { s.empty() } }) : t(this).hasClass("multi") ? (e++ , i = a(0, t(window).width() - 500), l = a(t(document).scrollTop(), t(document).scrollTop() + t(window).height() - 300), t('<div class="bMulti"><span class="button bClose close' + e + '"><span>X</span></span><p>' + e + '</p><a class="button smalls multi">Pop another up</a></div>').bPopup({ closeClass: "close" + e, position: [i, l], follow: [!1, !1], onClose: function () { e-- , t(this).remove() } })) : i.bPopup(u.data("bpopup") || {}) }) }); var a = function (t, n) { return ~~(Math.random() * (n - t + 1) + t) } }(jQuery);